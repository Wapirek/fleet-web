@import "src/app/shared/styles/variables";
@import "src/app/shared/styles/elements";

@keyframes loading {
  0% { transform: scaleX(0); }
  100% { transform: scaleX(1); }
}

@media (min-width: 0) {
  .container {
    display: grid;
    margin-top: 20px;
    grid-template-columns: 1fr;
    grid-template-rows: auto;
    row-gap: 20px;
    grid-template-areas:
      "header"
      "widgets"
      "shorts"
      "chart"
      "features"
      "sidebar";

    .shorts, .chart, .features { @include templateBg1; }

    .header {
      @include templateBg1;
      padding: 15px 20px;
      grid-area: header;
      display: flex;
      background: $my-dark-blue-linear;
      align-items: center;
      border-radius: 5px;
      gap: 10px;
    }

    .widgets {
      grid-area: widgets;
      padding: 0;
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .shorts {
      grid-area: shorts;
      padding: 5px 15px;

      &__row {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 15px;

        &:nth-child(1) {
          justify-content: space-between;
          mat-icon { font-size: 1.2rem; }
        }

        &:nth-child(2) { padding: 10px 0; }

        &__btn {
          background-color: $my-white;
          color: $my-navy-blue;

          &:first-child { background-color: $my-cool-blue; }
        }
      }
    }

    .chart { grid-area: chart; }

    .features {
      grid-area: features;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;

      &__category {
        width: 200px;
        padding: 10px 20px;
        background-color: rgba($my-navy-blue, .2);
        border-radius: 5px;
        display: flex;
        flex-direction: column;
        gap: 5px;

        &__headline {
          color: $my-cool-blue;
          margin-bottom: 5px;
        }

        &__item {
          cursor: pointer;
          &:hover { opacity: .8; }
        }
      }
    }

    .right-side {
      grid-area: sidebar;

      .my-goals {
        @include templateBg1;

        &__list {
          margin-top: 15px;
          display: flex;
          flex-direction: column;
          gap: 25px;

          &__item {
            display: flex;
            align-items: center;

            &__percent {
              width: 30px;
              padding: 0 8px;
              text-align: left;
            }

            &__main {
              flex: 1;
              text-align: center;
              padding: 10px;
              background-color: $my-navy-blue;
              border-radius: 5px;
              position: relative;
              z-index: 1;

              &__cover {
                position: absolute;
                left: 0;
                top: 0;
                background-color: $my-purple;
                height: 100%;
                border-radius: 5px;
                z-index: -1;
                transform-origin:left center;
                animation: loading 2s 0s ease-in-out;
              }
            }
          }
        }
      }
    }
  }
}

@media (min-width: $min-desktop) {

  .container {
    grid-template-columns: 3fr 30px 1fr;
    grid-template-areas:
    "header header header"
    "widgets . sidebar"
    "shorts . sidebar"
    "chart . sidebar"
    "features . sidebar";
  }
}
